import  { useEffect, useState } from 'react'
import fetchUsersData from '../../api/FetchUsers';
import { useNavigate } from "react-router-dom";

const Users = () => {
    const navigate = useNavigate();
    const [usersData, setUsersData] = useState<any>(null);

    const columns = [
        "User ID",
        "User name",
        "Pan card no.",
        "Mobile number",
        "Email id",
        "View",
        "Edit",
        "Delete",
    ];
    useEffect(() => {
        const fetchData = async () => {
            const data = await fetchUsersData();
            setUsersData(data)
            console.log(data);
        };

        fetchData();
    }, []);

    const handleClick = (id: any) => {
        navigate(`/users/${id}`);
    }
    
    return (
        <div className='text-black flex'>
            {/* Users List */}
            <div>
                <div className='flex items-center justify-between'>
                    <div>
                        <p className='text-[23px] font-bold text-black'></p>
                    </div>
                    <div>
                        <button className='h-[48px] rounded-[13px] flex items-center justify-center bg-[#EDEDED] text-[#282828] py-[22px] px-[41px] text-sm'>Filer By
                            <svg className='ml-[3px]' width={21} height={21} viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4.87436 6.27018L3.47852 7.64518C3.35352 7.75631 3.20768 7.81185 3.04102 7.81185C2.87435 7.81185 2.72852 7.74935 2.60352 7.62435C2.47852 7.49935 2.41602 7.35352 2.41602 7.18685C2.41602 7.02018 2.47852 6.87435 2.60352 6.74935L5.06186 4.29102C5.13127 4.22157 5.20073 4.17296 5.27019 4.14518C5.33961 4.11741 5.41602 4.10352 5.49936 4.10352C5.58269 4.10352 5.65907 4.11741 5.72852 4.14518C5.79794 4.17296 5.8674 4.22157 5.93686 4.29102L8.39519 6.74935C8.52019 6.87435 8.58269 7.02018 8.58269 7.18685C8.58269 7.35352 8.52019 7.49935 8.39519 7.62435C8.27019 7.74935 8.12436 7.80839 7.95769 7.80143C7.79102 7.79447 7.64519 7.73547 7.52019 7.62435L6.12436 6.27018V14.7702L7.52019 13.3952C7.64519 13.2841 7.79102 13.2285 7.95769 13.2285C8.12436 13.2285 8.27019 13.291 8.39519 13.416C8.52019 13.541 8.58269 13.6868 8.58269 13.8535C8.58269 14.0202 8.52019 14.166 8.39519 14.291L5.93686 16.7493C5.8674 16.8188 5.79794 16.8674 5.72852 16.8952C5.65907 16.923 5.58269 16.9368 5.49936 16.9368C5.41602 16.9368 5.33961 16.923 5.27019 16.8952C5.20073 16.8674 5.13127 16.8188 5.06186 16.7493L2.60352 14.291C2.47852 14.166 2.41602 14.0202 2.41602 13.8535C2.41602 13.6868 2.47852 13.541 2.60352 13.416C2.72852 13.291 2.87435 13.232 3.04102 13.2389C3.20768 13.2459 3.35352 13.3049 3.47852 13.416L4.87436 14.7702V6.27018ZM11.1244 16.3327C10.9438 16.3327 10.7945 16.2736 10.6764 16.1556C10.5584 16.0376 10.4994 15.8882 10.4994 15.7077C10.4994 15.5271 10.5584 15.3778 10.6764 15.2598C10.7945 15.1417 10.9438 15.0827 11.1244 15.0827H18.2077C18.3882 15.0827 18.5375 15.1417 18.6556 15.2598C18.7736 15.3778 18.8327 15.5271 18.8327 15.7077C18.8327 15.8882 18.7736 16.0376 18.6556 16.1556C18.5375 16.2736 18.3882 16.3327 18.2077 16.3327H11.1244ZM11.1244 11.1243C10.9438 11.1243 10.7945 11.0653 10.6764 10.9473C10.5584 10.8292 10.4994 10.6799 10.4994 10.4993C10.4994 10.3188 10.5584 10.1695 10.6764 10.0514C10.7945 9.93339 10.9438 9.87435 11.1244 9.87435H18.2077C18.3882 9.87435 18.5375 9.93339 18.6556 10.0514C18.7736 10.1695 18.8327 10.3188 18.8327 10.4993C18.8327 10.6799 18.7736 10.8292 18.6556 10.9473C18.5375 11.0653 18.3882 11.1243 18.2077 11.1243H11.1244ZM11.1244 5.91602C10.9438 5.91602 10.7945 5.85697 10.6764 5.73893C10.5584 5.62089 10.4994 5.47156 10.4994 5.29102C10.4994 5.11047 10.5584 4.96114 10.6764 4.8431C10.7945 4.72506 10.9438 4.66602 11.1244 4.66602H18.2077C18.3882 4.66602 18.5375 4.72506 18.6556 4.8431C18.7736 4.96114 18.8327 5.11047 18.8327 5.29102C18.8327 5.47156 18.7736 5.62089 18.6556 5.73893C18.5375 5.85697 18.3882 5.91602 18.2077 5.91602H11.1244Z" fill="#282828" />
                            </svg>
                        </button>
                    </div>
                </div>
                <div className="mt-[42px]">
                    <div className="">
                        <div className="overflow-x-auto">
                            <table className="min-w-full">
                                <thead>
                                    <tr className="bg-[#F5F5F5]">
                                        {columns.map((column, index) => (
                                            <th
                                                key={index}
                                                className="border-none p-4 text-left text-[#828282] text-sm font-normal"
                                            >
                                                {column}
                                            </th>
                                        ))}
                                    </tr>
                                </thead>
                                <tbody>
                                    {usersData && usersData.map((user: any, index: any) => (
                                        <tr
                                            key={user?._id}
                                            className={`${index % 2 === 0 ? "bg-white" : "bg-[#F5F5F5]"}`}
                                        >
                                            <td className="border-none p-4">
                                                {user._id}
                                            </td>
                                            <td className="border-none p-4 capitalize">
                                                {user?.fullName}
                                            </td>
                                            <td className="border-none p-4 capitalize">
                                                {user?.panCard}
                                            </td>
                                            <td className="border-none p-4 capitalize">
                                                {user?.mobileNumber}
                                            </td>
                                            <td className="border-none p-4 capitalize">
                                                {user?.email}
                                            </td>

                                            <td className="border-none p-4 capitalize">
                                                <button className='bg-[#54628D] w-[84px] h-[36px] text-white text-sm rounded-[8px]'
                                                onClick={() => handleClick(user?._id)}
                                                >View</button>
                                            </td>
                                            <td className="border-none p-4 capitalize">
                                                <svg width={24} height={24} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M4.85716 20.5714C4.4643 20.5714 4.12803 20.4315 3.84835 20.1517C3.56851 19.872 3.42859 19.5357 3.42859 19.1429V4.85715C3.42859 4.46429 3.56851 4.12794 3.84835 3.8481C4.12803 3.56842 4.4643 3.42857 4.85716 3.42857H16.2381C16.4356 3.42857 16.6238 3.46825 16.8029 3.54762C16.9819 3.62699 17.1349 3.73016 17.2619 3.85715L20.1429 6.7381C20.2699 6.8651 20.373 7.0181 20.4524 7.19715C20.5318 7.37619 20.5714 7.56443 20.5714 7.76191V11.7619C20.5714 11.9643 20.5025 12.1339 20.3648 12.2707C20.2272 12.4077 20.0565 12.4762 19.8529 12.4762C19.6494 12.4762 19.4802 12.4077 19.3453 12.2707C19.2104 12.1339 19.1429 11.9643 19.1429 11.7619V7.80953L16.1905 4.85715H4.85716V19.1429H10.8095C11.0119 19.1429 11.1816 19.2118 11.3186 19.3495C11.4554 19.4871 11.5238 19.6578 11.5238 19.8614C11.5238 20.0649 11.4554 20.2341 11.3186 20.369C11.1816 20.504 11.0119 20.5714 10.8095 20.5714H4.85716ZM12.9524 21.7619V19.8333C12.9524 19.7449 12.9683 19.6594 13 19.5767C13.0318 19.4938 13.0873 19.4127 13.1667 19.3333L18.205 14.315C18.3496 14.1702 18.5104 14.0656 18.6872 14.0012C18.864 13.9369 19.0397 13.9048 19.2143 13.9048C19.4048 13.9048 19.5873 13.9405 19.7619 14.0119C19.9365 14.0833 20.0953 14.1905 20.2381 14.3333L21.1191 15.2143C21.2619 15.3571 21.3651 15.5159 21.4286 15.6905C21.4921 15.8651 21.5238 16.0397 21.5238 16.2143C21.5238 16.3889 21.4881 16.5675 21.4167 16.75C21.3453 16.9325 21.2375 17.0962 21.0934 17.241L16.0953 22.2619C16.0159 22.3413 15.9348 22.3968 15.8519 22.4286C15.7692 22.4603 15.6837 22.4762 15.5953 22.4762H13.6667C13.4643 22.4762 13.2947 22.4077 13.1579 22.2707C13.0209 22.1339 12.9524 21.9643 12.9524 21.7619ZM14.381 21.0476H15.2857L18.1667 18.1429L17.7381 17.6905L17.2857 17.2619L14.381 20.1429V21.0476ZM17.7381 17.6905L17.2857 17.2619L18.1667 18.1429L17.7381 17.6905ZM6.83335 9.52381H13.9286C14.131 9.52381 14.3006 9.45534 14.4376 9.31834C14.5744 9.18153 14.6429 9.01191 14.6429 8.80953V6.83334C14.6429 6.63095 14.5744 6.46129 14.4376 6.32429C14.3006 6.18748 14.131 6.11905 13.9286 6.11905H6.83335C6.63097 6.11905 6.46135 6.18748 6.32454 6.32429C6.18754 6.46129 6.11907 6.63095 6.11907 6.83334V8.80953C6.11907 9.01191 6.18754 9.18153 6.32454 9.31834C6.46135 9.45534 6.63097 9.52381 6.83335 9.52381ZM12 17.5952C12.2223 17.5952 12.4365 17.5714 12.6429 17.5238C12.8492 17.4762 13.0397 17.3968 13.2143 17.2857L14.1429 16.3333C14.254 16.1587 14.3373 15.9682 14.3929 15.7619C14.4484 15.5556 14.4762 15.3413 14.4762 15.1191C14.4762 14.4313 14.2361 13.8466 13.7557 13.365C13.2753 12.8836 12.6919 12.6429 12.0057 12.6429C11.3194 12.6429 10.7342 12.883 10.25 13.3633C9.76587 13.8438 9.52383 14.4271 9.52383 15.1133C9.52383 15.7997 9.76454 16.3849 10.246 16.8691C10.7275 17.3532 11.3123 17.5952 12 17.5952Z" fill="#282828" />
                                                </svg>
                                            </td>
                                            <td className="border-none p-4 capitalize">
                                                <svg width={16} height={18} viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M2.78574 17.5714C2.39289 17.5714 2.0566 17.4315 1.77693 17.1517C1.49708 16.872 1.35717 16.5357 1.35717 16.1429V2.57143H1.09527C0.892886 2.57143 0.723281 2.50253 0.586458 2.36476C0.449472 2.22714 0.380981 2.05651 0.380981 1.85286C0.380981 1.64937 0.449472 1.48016 0.586458 1.34524C0.723281 1.21032 0.892886 1.14286 1.09527 1.14286H4.85717C4.85717 0.936512 4.92565 0.765873 5.06265 0.630954C5.19946 0.496035 5.36908 0.428574 5.57146 0.428574H10.4286C10.631 0.428574 10.8006 0.496988 10.9376 0.633812C11.0745 0.770797 11.1429 0.940478 11.1429 1.14286H14.9048C15.1072 1.14286 15.2768 1.21175 15.4138 1.34953C15.5506 1.48714 15.6191 1.65778 15.6191 1.86143C15.6191 2.06492 15.5506 2.23413 15.4138 2.36905C15.2768 2.50395 15.1072 2.57143 14.9048 2.57143H14.6429V16.1429C14.6429 16.5357 14.503 16.872 14.2234 17.1517C13.9435 17.4315 13.6072 17.5714 13.2143 17.5714H2.78574ZM13.2143 2.57143H2.78574V16.1429H13.2143V2.57143ZM8.00003 10.4286L10.2857 12.7381C10.4445 12.8968 10.6349 12.9801 10.8572 12.9881C11.0794 12.996 11.2699 12.9167 11.4286 12.75C11.5873 12.5833 11.6667 12.3929 11.6667 12.1786C11.6667 11.9643 11.5873 11.7778 11.4286 11.619L9.14289 9.28572L11.4286 6.95238C11.5873 6.79367 11.6667 6.60714 11.6667 6.39286C11.6667 6.17857 11.5873 5.99205 11.4286 5.83333C11.2699 5.67462 11.0794 5.59524 10.8572 5.59524C10.6349 5.59524 10.4445 5.67462 10.2857 5.83333L8.00003 8.14286L5.73812 5.83333C5.57941 5.67462 5.38893 5.59524 5.1667 5.59524C4.94446 5.59524 4.75398 5.67462 4.59527 5.83333C4.43655 5.99205 4.35717 6.18253 4.35717 6.40476C4.35717 6.627 4.43655 6.81748 4.59527 6.97619L6.88098 9.28572L4.59527 11.5952C4.43655 11.754 4.35717 11.9444 4.35717 12.1667C4.35717 12.3889 4.43655 12.5794 4.59527 12.7381C4.75398 12.8968 4.94446 12.9762 5.1667 12.9762C5.38893 12.9762 5.57941 12.8968 5.73812 12.7381L8.00003 10.4286Z" fill="#282828" />
                                                </svg>
                                            </td>

                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    )
}

export default Users